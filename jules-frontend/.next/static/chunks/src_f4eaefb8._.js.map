{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/stevesalta/Jules/jules-frontend/src/lib/api.ts"],"sourcesContent":["const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000';\n\n// Helper function to get auth token\nconst getAuthToken = () => {\n  if (typeof window !== 'undefined') {\n    return localStorage.getItem('token');\n  }\n  return null;\n};\n\n// Helper function to make authenticated requests\nconst apiRequest = async (endpoint: string, options: RequestInit = {}) => {\n  const token = getAuthToken();\n  \n  const defaultHeaders: HeadersInit = {\n    'Content-Type': 'application/json',\n  };\n  \n  if (token) {\n    defaultHeaders.Authorization = `Bearer ${token}`;\n  }\n\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...options,\n      headers: {\n        ...defaultHeaders,\n        ...options.headers,\n      },\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new Error(data.error || `HTTP error! status: ${response.status}`);\n    }\n\n    return data;\n  } catch (error) {\n    if (error instanceof TypeError && error.message.includes('fetch')) {\n      throw new Error('Cannot connect to server. Make sure the backend is running on http://localhost:4000');\n    }\n    throw error;\n  }\n};\n\n// Authentication API calls\nexport const auth = {\n  login: async (email: string, password: string) => {\n    const response = await apiRequest('/api/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    });\n    \n    if (response.token) {\n      localStorage.setItem('token', response.token);\n    }\n    \n    return response;\n  },\n\n  register: async (email: string, password: string, name?: string) => {\n    // First register the user\n    await apiRequest('/api/auth/register', {\n      method: 'POST',\n      body: JSON.stringify({ email, password, name }),\n    });\n    \n    // Then log them in to get a token\n    const loginResponse = await apiRequest('/api/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    });\n    \n    if (loginResponse.token) {\n      localStorage.setItem('token', loginResponse.token);\n    }\n    \n    return loginResponse;\n  },\n\n  logout: () => {\n    localStorage.removeItem('token');\n  },\n\n  getProfile: async () => {\n    return apiRequest('/api/auth/profile');\n  },\n};\n\n// Chat API calls\nexport const chat = {\n  sendMessage: async (message: string, userId: string) => {\n    return apiRequest('/api/chat', {\n      method: 'POST',\n      body: JSON.stringify({ message, userId }),\n    });\n  },\n  getChatHistory: async (userId: string) => {\n    return apiRequest(`/api/chat/${userId}`, {\n      method: 'GET',\n    });\n  },\n  getImages: async (query: string, page?: number) => {\n    return apiRequest('/api/chat/images', {\n      method: 'POST',\n      body: JSON.stringify(page ? { query, page } : { query }),\n    });\n  },\n  getProducts: async (query: string) => {\n    return apiRequest('/api/chat/products', {\n      method: 'POST',\n      body: JSON.stringify({ query }),\n    });\n  },\n};\n\n// Product recommendations API calls\nexport const products = {\n  getRecommendations: async () => {\n    return apiRequest('/api/products/recommendations');\n  },\n};\n\n// Upload API calls\nexport const upload = {\n  uploadImage: async (formData: FormData) => {\n    const token = getAuthToken();\n    \n    try {\n      const response = await fetch(`${API_BASE_URL}/api/upload`, {\n        method: 'POST',\n        headers: {\n          ...(token && { Authorization: `Bearer ${token}` }),\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error('Upload failed');\n      }\n\n      return response.json();\n    } catch (error) {\n      if (error instanceof TypeError && error.message.includes('fetch')) {\n        throw new Error('Cannot connect to server. Make sure the backend is running on http://localhost:4000');\n      }\n      throw error;\n    }\n  },\n}; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///Users/stevesalta/Jules/jules-frontend/src/app/chat/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { chat } from \"@/lib/api\";\nimport Image from \"next/image\";\nimport { jwtDecode } from 'jwt-decode';\n\ninterface Message {\n  id: string;\n  text?: string;\n  sender: \"user\" | \"jules\";\n  timestamp: Date;\n  type?: \"text\" | \"images\" | \"products\";\n  images?: string[];\n  products?: { title?: string; link?: string; image?: string; price?: string; description?: string }[];\n}\n\nfunction getUserIdFromToken() {\n  if (typeof window !== 'undefined') {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        const decoded: any = jwtDecode(token);\n        return decoded.userId;\n      } catch (e) { return null; }\n    }\n  }\n  return null;\n}\n\nfunction safeString(val?: string): string {\n  return typeof val === 'string' && val.trim() !== '' ? val : '';\n}\n\nfunction getAltString(val: string | undefined, fallback: string): string {\n  return typeof val === 'string' && val.trim() !== '' ? val : fallback;\n}\n\nexport default function Chat() {\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: \"1\",\n      text: \"Hi! Good to meet you. Before we get started, tell me about yourself.\",\n      sender: \"jules\",\n      timestamp: new Date(),\n    },\n  ]);\n  const [inputText, setInputText] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [voiceEnabled, setVoiceEnabled] = useState(false);\n  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);\n  const [selectedVoice, setSelectedVoice] = useState<string>(\"\");\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const [imageIntro, setImageIntro] = useState<string>(\"\");\n  const [productLinks, setProductLinks] = useState<{title: string, link: string, image?: string, price?: string, description?: string}[]>([]);\n  const [lastScenario, setLastScenario] = useState<string>(\"\");\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Load voices\n  useEffect(() => {\n    const loadVoices = () => {\n      const allVoices = window.speechSynthesis.getVoices();\n      setVoices(allVoices);\n      // Default to a natural female English voice if available\n      if (!selectedVoice && allVoices.length > 0) {\n        const preferred = allVoices.find(v => v.lang.startsWith('en') && v.name.toLowerCase().includes('female'))\n          || allVoices.find(v => v.lang.startsWith('en') && v.name.toLowerCase().includes('woman'))\n          || allVoices.find(v => v.lang.startsWith('en'))\n          || allVoices[0];\n        setSelectedVoice(preferred?.name || allVoices[0].name);\n      }\n    };\n    loadVoices();\n    window.speechSynthesis.onvoiceschanged = loadVoices;\n  }, []);\n\n  // Speak Jules' reply if voice is enabled\n  useEffect(() => {\n    if (voiceEnabled && messages.length > 0 && selectedVoice) {\n      const last = messages[messages.length - 1];\n      if (last.sender === \"jules\") {\n        const utter = new window.SpeechSynthesisUtterance(last.text || \"\");\n        utter.lang = \"en-US\";\n        const voice = voices.find(v => v.name === selectedVoice);\n        if (voice) utter.voice = voice;\n        window.speechSynthesis.speak(utter);\n      }\n    }\n  }, [messages, voiceEnabled, selectedVoice, voices]);\n\n  const sendMessage = async () => {\n    if (!inputText.trim() || isLoading) return;\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      text: inputText,\n      sender: \"user\",\n      timestamp: new Date(),\n    };\n\n    setMessages((prev) => [...prev, userMessage]);\n    const messageText = inputText;\n    setInputText(\"\");\n    setIsLoading(true);\n\n    const userId = getUserIdFromToken();\n    if (!userId) {\n      setMessages((prev) => [...prev, {\n        id: (Date.now() + 2).toString(),\n        text: \"You must be logged in to chat.\",\n        sender: \"jules\",\n        timestamp: new Date(),\n      }]);\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      // Product search\n      if (/where can i get|where do i buy|where to buy|link to buy|shop|find.*(jacket|shirt|jeans|pants|shoes|boots|suit|blazer|coat|sweater|henley|tee|t-shirt|polo|chinos|vest|waistcoat|sneakers|loafers|oxfords|derbies)/i.test(messageText)) {\n        const prodData = await chat.getProducts(messageText);\n        setProductLinks(prodData.products || []);\n        setMessages((prev) => [...prev, {\n          id: (Date.now() + 4).toString(),\n          text: \"Here are some solid picks:\",\n          sender: \"jules\",\n          timestamp: new Date(),\n        }]);\n        return;\n      }\n      // If user asks for examples, fetch images\n      if (/show me examples|show me|visual examples|can i see|more|again|another/i.test(messageText)) {\n        let scenario = lastScenario;\n        // Find the last scenario or outfit advice from Jules\n        const found = [...messages].reverse().find(m => m.sender === 'jules' && /jeans|jacket|shirt|sneakers|boots|outfit|look|wear/i.test(m.text));\n        scenario = found ? found.text : messageText;\n        setLastScenario(scenario);\n        const data = await chat.sendMessage(scenario, userId);\n        const julesTextMessage: Message = {\n          id: (Date.now() + 1).toString(),\n          text: data.reply || data.response || \"I'm having trouble responding right now. Try again!\",\n          sender: \"jules\",\n          timestamp: new Date(),\n          type: \"text\"\n        };\n        const newMessages: Message[] = [julesTextMessage];\n        if (data.images && data.images.length > 0) {\n          newMessages.push({\n            id: (Date.now() + 2).toString(),\n            sender: \"jules\",\n            timestamp: new Date(),\n            type: \"images\",\n            images: data.images\n          });\n        }\n        if (data.products && data.products.length > 0) {\n          newMessages.push({\n            id: (Date.now() + 3).toString(),\n            sender: \"jules\",\n            timestamp: new Date(),\n            type: \"products\",\n            products: data.products\n          });\n        }\n        setMessages((prev) => [...prev, ...newMessages]);\n      } else {\n        setLastScenario(messageText);\n        setImageIntro(\"\");\n        setProductLinks([]);\n        const data = await chat.sendMessage(messageText, userId);\n        const julesTextMessage: Message = {\n          id: (Date.now() + 1).toString(),\n          text: data.reply || data.response || \"I'm having trouble responding right now. Try again!\",\n          sender: \"jules\",\n          timestamp: new Date(),\n          type: \"text\"\n        };\n        const newMessages: Message[] = [julesTextMessage];\n        if (data.images && data.images.length > 0) {\n          newMessages.push({\n            id: (Date.now() + 2).toString(),\n            sender: \"jules\",\n            timestamp: new Date(),\n            type: \"images\",\n            images: data.images\n          });\n        }\n        if (data.products && data.products.length > 0) {\n          newMessages.push({\n            id: (Date.now() + 3).toString(),\n            sender: \"jules\",\n            timestamp: new Date(),\n            type: \"products\",\n            products: data.products\n          });\n        }\n        setMessages((prev) => [...prev, ...newMessages]);\n      }\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n      const errorMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        text: \"Sorry, I'm having trouble connecting right now. Please try again!\",\n        sender: \"jules\",\n        timestamp: new Date(),\n      };\n      setMessages((prev) => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-gradient-to-br from-blue-100 via-white to-gray-200\">\n      {/* Header */}\n      <header className=\"bg-white/80 backdrop-blur border-b px-4 py-3 flex items-center justify-between shadow-sm\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-semibold\">\n            J\n          </div>\n          <h1 className=\"font-semibold text-lg text-gray-900\">Jules</h1>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          <select\n            value={selectedVoice}\n            onChange={e => setSelectedVoice(e.target.value)}\n            className=\"px-2 py-1 rounded border text-sm bg-white text-gray-700\"\n            title=\"Select Jules' Voice\"\n          >\n            {voices.map(v => (\n              <option key={v.name} value={v.name}>{v.name} ({v.lang})</option>\n            ))}\n          </select>\n          <button\n            onClick={() => setVoiceEnabled((v) => !v)}\n            className={`px-3 py-1 rounded-full text-sm font-medium border transition-colors ${voiceEnabled ? 'bg-blue-500 text-white border-blue-500' : 'bg-white text-gray-700 border-gray-300'}`}\n            title=\"Toggle Jules Voice\"\n          >\n            {voiceEnabled ? 'üîä Voice On' : 'üîá Voice Off'}\n          </button>\n          <a\n            href=\"/\"\n            className=\"text-gray-500 hover:text-gray-700 transition-colors\"\n          >\n            ‚Üê Back to Home\n          </a>\n        </div>\n      </header>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-2\">\n        <div className=\"max-w-2xl mx-auto flex flex-col gap-2\">\n          {messages.map((message) => (\n            <div\n              key={message.id}\n              className={`flex items-end gap-2 ${\n                message.sender === \"user\" ? \"justify-end flex-row-reverse\" : \"justify-start flex-row\"\n              }`}\n              style={message.sender === \"user\" ? { justifyContent: 'flex-end' } : {}}\n            >\n              {/* Avatar */}\n              {message.sender === \"jules\" ? (\n                <Image src=\"/jules-mvp.png\" alt=\"Jules avatar\" width={36} height={36} className=\"rounded-full shadow\" />\n              ) : (\n                <div className=\"w-9 h-9 bg-blue-400 text-white rounded-full flex items-center justify-center font-bold text-lg shadow\">U</div>\n              )}\n              <div\n                className={`relative max-w-xs md:max-w-md px-4 py-2 rounded-2xl text-base shadow-sm whitespace-pre-line ${\n                  message.sender === \"user\"\n                    ? \"bg-blue-500 text-white rounded-br-md text-right ml-auto\"\n                    : \"bg-gray-200 text-gray-900 rounded-bl-md text-left mr-auto\"\n                }`}\n                style={message.sender === \"user\" ? { marginLeft: 'auto' } : { marginRight: 'auto' }}\n              >\n                {/* Always show text if present */}\n                {message.text && <div>{message.text}</div>}\n                {/* Show images if present and type is 'images' */}\n                {message.type === 'images' && message.images && message.images.length > 0 && (\n                  <div className=\"flex gap-2 mt-2\">\n                    {message.images.slice(0, 4).map((url, idx) => (\n                      safeString(url) ? (\n                        <img key={idx} src={safeString(url)} alt={safeString(url) || 'Outfit example'} className=\"w-40 h-48 object-cover rounded-lg shadow\" />\n                      ) : (\n                        <div key={idx} className=\"w-40 h-48 flex items-center justify-center bg-gray-100 text-gray-400 rounded-lg shadow\">No Image</div>\n                      )\n                    ))}\n                  </div>\n                )}\n                {/* Show products if present */}\n                {message.products && message.products.length > 0 && (\n                  <div className=\"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                    {message.products.map((prod, idx) => (\n                      <a\n                        key={idx}\n                        href={prod.link ?? ''}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"bg-white rounded-xl shadow p-3 flex flex-col items-center border border-gray-200 hover:shadow-lg transition-shadow cursor-pointer\"\n                        style={{ textDecoration: 'none' }}\n                      >\n                        {safeString(prod.image) ? (\n                          <img src={safeString(prod.image)} alt={safeString(prod.title) || 'Product image'} className=\"w-32 h-32 object-contain mb-2 rounded\" />\n                        ) : (\n                          <div className=\"w-32 h-32 flex items-center justify-center bg-gray-100 text-gray-400 mb-2 rounded\">No Image</div>\n                        )}\n                        <div className=\"font-semibold text-gray-900 text-center mb-1 line-clamp-2\">{prod.title ?? ''}</div>\n                        {prod.price && (\n                          <div className=\"text-gray-700 text-sm mb-1\">{prod.price ?? ''}</div>\n                        )}\n                        {prod.description && (\n                          <div className=\"text-gray-600 text-xs mt-1 text-center line-clamp-3\">{prod.description}</div>\n                        )}\n                      </a>\n                    ))}\n                  </div>\n                )}\n                <span\n                  className={`block text-xs mt-1 ${\n                    message.sender === \"user\" ? \"text-blue-100\" : \"text-gray-500\"\n                  }`}\n                >\n                  {message.timestamp.toLocaleTimeString([], {\n                    hour: \"2-digit\",\n                    minute: \"2-digit\",\n                  })}\n                </span>\n              </div>\n            </div>\n          ))}\n          {/* Show product links if available */}\n          {productLinks.length > 0 && (\n            <div className=\"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n              {productLinks.map((prod, idx) => (\n                <div key={idx} className=\"bg-white rounded-xl shadow p-3 flex flex-col items-center border border-gray-200\">\n                  {safeString(prod.image) ? (\n                    <img src={safeString(prod.image)} alt={safeString(prod.title) || 'Product image'} className=\"w-32 h-32 object-contain mb-2 rounded\" />\n                  ) : (\n                    <div className=\"w-32 h-32 flex items-center justify-center bg-gray-100 text-gray-400 mb-2 rounded\">No Image</div>\n                  )}\n                  <div className=\"font-semibold text-gray-900 text-center mb-1 line-clamp-2\">{prod.title ?? ''}</div>\n                  {prod.price && (\n                    <div className=\"text-gray-700 text-sm mb-1\">{prod.price ?? ''}</div>\n                  )}\n                  {prod.link && (\n                    <a href={prod.link ?? ''} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-500 text-xs underline\">View Product</a>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n          {/* Jules is typing indicator */}\n          {isLoading && (\n            <div className=\"flex items-end gap-2 justify-start flex-row\">\n              <Image src=\"/jules-mvp.png\" alt=\"Jules avatar\" width={36} height={36} className=\"rounded-full shadow\" />\n              <div className=\"relative max-w-xs md:max-w-md px-4 py-2 rounded-2xl text-base shadow-sm bg-gray-200 text-gray-900 rounded-bl-md text-left mr-auto animate-pulse\">\n                <span>Jules is typing‚Ä¶</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Input */}\n      <div className=\"bg-white/80 backdrop-blur border-t px-4 py-3 flex items-center justify-between shadow-sm\">\n        <input\n          type=\"text\"\n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n          onKeyDown={handleKeyPress}\n          className=\"flex-1 px-4 py-2 rounded border text-sm bg-white text-gray-700\"\n          placeholder=\"Type your message...\"\n        />\n        <button\n          onClick={sendMessage}\n          className=\"px-4 py-2 rounded-full text-sm font-medium border transition-colors bg-blue-500 text-white\"\n          title=\"Send message\"\n        >\n          Send\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}